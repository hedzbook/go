<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Basic SEO -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="HEDZ Forex Trilogy – a three-part collection on Foundations, Psychology, and Strategy in Forex Trading. Explore timeless lessons, resilience, and risk-controlled growth.">
  <meta name="keywords"
    content="Forex Trading, Forex Books, Trading Psychology, Trading Strategy, HEDZ Forex Trilogy, Capital Management, Hedging, ZeroLoss Compounded Hedging System">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://hedzbook.github.io/go/">

  <!-- Open Graph / Social Sharing (Facebook, LinkedIn, etc.) -->
  <meta property="og:title" content="HEDZ Forex Trilogy – Foundations, Psychology, Strategy in Forex Trading">
  <meta property="og:description"
    content="Explore the HEDZ Forex Trilogy: Foundations, Psychology, and Strategy in Forex Trading. Gain timeless lessons, discipline, and sustainable growth insights.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://hedzbook.github.io/go/">
  <meta property="og:image" content="https://hedzbook.github.io/images/hedz-book-logo.png">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="HEDZ Forex Trilogy – Foundations, Psychology, Strategy in Forex Trading">
  <meta name="twitter:description"
    content="Discover the HEDZ Forex Trilogy: Foundations, Psychology, and Strategy for mastering Forex Trading.">
  <meta name="twitter:image" content="https://hedzbook.github.io/images/hedz-book-logo.png">

  <link rel="preconnect" href="https://ipapi.co">
  <title>HEDZ Forex Trilogy – Foundations, Psychology & Strategy in Forex Trading</title>
  <link rel="preload" as="image" href="../images/hedz-book-logo.png">
  <link rel="preload" as="image"
    href="../trilogy/the-foundation-of-forex-trading/the-foundation-of-forex-trading-front-cover.webp">
  <link rel="preload" as="image"
    href="../trilogy/the-psychology-of-forex-trading/the-psychology-of-forex-trading-front-cover.webp">
  <link rel="preload" as="image"
    href="../trilogy/the-strategy-of-forex-trading/the-strategy-of-forex-trading-front-cover.webp">
  <!-- Favicon -->
  <!-- Favicons for browser tabs -->
  <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="../images/favicon-48x48.png">

  <!-- Apple Touch Icons for iOS devices -->
  <link rel="apple-touch-icon" sizes="72x72" href="../images/favicon-72x72.png">
  <link rel="apple-touch-icon" sizes="96x96" href="../images/favicon-96x96.png">
  <link rel="apple-touch-icon" sizes="128x128" href="../images/favicon-128x128.png">
  <link rel="apple-touch-icon" sizes="192x192" href="../images/favicon-192x192.png">
  <link rel="apple-touch-icon" sizes="512x512" href="../images/favicon-512x512.png">

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Theme color for mobile browsers -->
  <meta name="theme-color" content="#F9F8F4">

  <!-- Optional meta for Apple devices -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">

  <script type="application/ld+json" id="book-schema">
{
  "@context": "https://schema.org",
  "@graph": [
        {
      "@type": "WebSite",
      "name": "HEDZ Book",
      "url": "https://hedzbook.github.io/go/"
    },
    {
      "@type": "Organization",
      "name": "HEDZ",
      "url": "https://hedzbook.github.io/go/",
      "logo": "https://hedzbook.github.io/images/hedz-book-logo.png"
    },
    {
      "@type": "CreativeWorkSeries",
      "name": "HEDZ Forex Trilogy",
      "author": { "@type": "Person", "name": "HEDZ" },
      "description": "A three-volume forex trading series covering foundations, trading psychology, and advanced strategies.",
      "workExample": [
        {
          "@type": "Book",
          "name": "HEDZ Forex Trilogy: Foundation",
          "author": { "@type": "Person", "name": "HEDZ" },
          "identifier": { "@type": "PropertyValue", "propertyID": "ASIN", "value": "B0FQ11LS2Q" },
          "description": "Lays the groundwork for mastering forex by exploring key principles, trader psychology, and essential strategies.",
          "bookFormat": "https://schema.org/EBook",
          "image": "https://hedzbook.github.io/go/trilogy/the-foundation-of-forex-trading/the-foundation-of-forex-trading-front-cover.webp"
        },
        {
          "@type": "Book",
          "name": "HEDZ Forex Trilogy: Psychology",
          "author": { "@type": "Person", "name": "HEDZ" },
          "identifier": { "@type": "PropertyValue", "propertyID": "ASIN", "value": "B0FQ11LS2Q" },
          "description": "Explores the mental game of forex trading—decision-making, emotional control, and the mindset of consistent success.",
          "bookFormat": "https://schema.org/EBook",
          "image": "https://hedzbook.github.io/go/trilogy/the-psychology-of-forex-trading/the-psychology-of-forex-trading-front-cover.webp"
        },
        {
          "@type": "Book",
          "name": "HEDZ Forex Trilogy: Strategy",
          "author": { "@type": "Person", "name": "HEDZ" },
          "identifier": { "@type": "PropertyValue", "propertyID": "ASIN", "value": "B0FQ11LS2Q" },
          "description": "Focuses on practical trading strategies, advanced tools, and system-building to gain an edge in the forex markets.",
          "bookFormat": "https://schema.org/EBook",
          "image": "https://hedzbook.github.io/go/trilogy/the-strategy-of-forex-trading/the-strategy-of-forex-trading-front-cover.webp"
        }
      ]
    }
  ]
}
</script>
  <!-- =====================
    Embedded Styles
  ===================== -->
  <style>
    :root {
      --primary-bg: #F9F8F4;
      --header-bg: #fff;
      --text-color: #222;
      --highlight: #ffd700;
      --card-radius: 12px;
      --shadow-light: rgba(0, 0, 0, 0.10);
      --shadow-dark: rgba(0, 0, 0, 0.28);
    }

    body {
      background: var(--primary-bg);
      color: var(--text-color);
    }

    /* Keyboard focus indicator */
    :focus-visible {
      outline: 2px dashed #222;
      outline-offset: 3px;
    }

    header {
      background: var(--header-bg);
    }

    .book-container {
      border-radius: var(--card-radius);
      box-shadow: 0 6px 24px var(--shadow-dark);
    }

    .buy-now-button {
      background: var(--highlight);
    }

    .buy-now-button:hover {
      background: #ffb700;
    }

    /* =====================
     Base Styles
   ===================== */
    html,
    body {
      height: 100%;
    }

    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #F9F8F4;
      margin: 0;
      color: #222;
    }

    main {
      flex: 1;
    }

    .intro {
      text-align: justify;
      width: 100%;
      padding-bottom: 2rem;
      font-size: 1.1rem;
    }

    h1 {
      text-align: center;
      margin-bottom: 2rem;
      font-size: 2.5rem;
      letter-spacing: 2px;
    }

    /* =====================
     Header & Navigation
   ===================== */
    header {
      background: #fff;
      color: #222;
      padding: 0.25rem 2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 6px 24px rgba(0, 0, 0, 0.22);
      position: sticky;
      top: 0;
      z-index: 1101;
    }

    .logo {
      margin-left: -1rem;
    }

    .logo img {
      height: 50px;
      vertical-align: middle;
    }

    nav {
      display: flex;
      align-items: center;
    }

    nav a {
      color: #222;
      text-decoration: none;
      margin-left: 2rem;
      font-size: 1rem;
      font-weight: bold;
      transition: color 0.2s;
    }

    nav a:hover {
      color: #ffd700;
    }

    .menu-toggle,
    .menu-close {
      display: none;
    }

    /* =====================
     Books Grid & Cards
   ===================== */
    main {
      max-width: 1200px;
      margin: 3vh auto 4vh;
      /* top | sides | bottom using viewport height */
      padding: 0 1rem 2rem;
      /* horizontal padding + bottom padding */
    }

    .books-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(325px, 1fr));
      gap: 2rem;
    }

    .book-container {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 6px 24px rgba(0, 0, 0, 0.22);
      padding: 20px 20px 23px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: box-shadow 0.2s;
    }

    .book-container:hover {
      box-shadow: 0 12px 36px rgba(0, 0, 0, 0.28);
    }

    .book-image img {
      width: 180px;
      border-radius: 0px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.10);
      transition: transform 0.2s;
      cursor: pointer;
    }

    .book-image img:hover {
      transform: scale(1.05);
    }

    .book-title {
      font-weight: bold;
      text-align: center;
      font-size: 1.1rem;
      white-space: nowrap;
    }

    .book-subtitle {
      font-weight: bold;
      text-align: center;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }

    .book-desc {
      text-align: justify;
      font-size: 0.91rem;
    }

    /* =====================
     Book Prices & Buttons
   ===================== */
    .book-prices {
      font-size: 1rem !important;
      line-height: 1.7;
    }

    .book-format {
      font-weight: 350 !important;
      letter-spacing: 0.5px;
    }

    .book-price {
      font-weight: bold !important;
      color: #222 !important;
    }

    .buy-now-button {
      display: inline-block;
      background: #ffd700;
      color: #222;
      font-size: 1.0rem !important;
      padding: 0.5rem 1rem !important;
      border-radius: 6px;
      font-weight: bold;
      text-decoration: none;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.07);
      transition: background 0.2s;
      margin-bottom: 0.5rem;
      margin-top: 0;
    }

    .buy-now-button:hover,
    .learn-more-button:hover {
      background: #ffb700;
    }

    .learn-more-button {
      display: inline-block;
      background: none;
      color: #222;
      font-size: 0.8rem !important;
      padding: 0.5rem 1rem !important;
      border-radius: 6px;
      font-weight: bold;
      text-decoration: none;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.07);
      transition: background 0.2s;
      margin-bottom: 0.5rem;
      margin-top: 0;
    }

    /* =====================
     Footer
   ===================== */
    footer {
      background: #F9F8F4;
      color: #222;
      text-align: center;
      padding: 1rem 0;
      margin-top: 4vh;
      /* gap scales with viewport height */
      border-top: 1px solid rgba(0, 0, 0, 0.1);
    }

    /* =====================
     Lightbox Styles
   ===================== */
    .lightbox {
      display: none;
      position: fixed;
      z-index: 3000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      justify-content: center;
      align-items: center;
    }

    .lightbox-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
    }

    .lightbox-content img {
      width: auto;
      height: auto;
      max-width: 90vw;
      max-height: 80vh;
      border-radius: 0px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    }

    .lightbox button {
      background: none;
      border: none;
      cursor: pointer;
      position: absolute;
      color: #fff;
      font-weight: bold;
      user-select: none;
    }

    .lightbox .close {
      top: 20px;
      right: 30px;
      font-size: 2.5rem;
      z-index: 3100;
    }

    .lightbox .prev,
    .lightbox .next {
      top: 50%;
      transform: translateY(-50%);
      font-size: 3rem;
      padding: 0 15px;
      z-index: 3100;
    }

    .lightbox .prev {
      left: 7px;
    }

    .lightbox .next {
      right: 10px;
    }

    .lightbox button:hover {
      color: #ffd700;
    }

    /* =====================
     Responsive Styles (Mobile)
     All @media (max-width: 700px) in one block
   ===================== */
    @media (max-width: 700px) {

      /* Header & Navigation */
      header {
        height: 40px;
        padding: 0.25rem 2rem;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        transform: translateY(0);
        transition: none;
        /* no delay — direct control by JS */
        will-change: transform;
      }

      header.hide {
        transform: translateY(-100%);
      }

      .logo img {
        height: 40px;
        vertical-align: middle;
      }

      header.menu-fixed {
        position: fixed !important;
        top: 0;
        left: 0;
        right: 0;
        transform: translateY(0) !important;
      }

      .menu-toggle {
        display: block;
        background: none;
        margin-right: -1.5rem;
        border: none;
        font-size: 2.5rem;
        color: #000;
        cursor: pointer;
        z-index: 1100;
      }

      .menu-close {
        display: none;
        position: absolute;
        right: 1.0rem;
        top: 0.7rem;
        background: #fff;
        border: 2px solid #222;
        color: #000;
        border-radius: 6%;
        width: 32px;
        height: 32px;
        font-size: 1rem;
        cursor: pointer;
        line-height: 28px;
        z-index: 1100;
      }

      /* Overlay */
      #navOverlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.4);
        z-index: 900;
        display: none;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }

      #navOverlay.active {
        display: block;
        pointer-events: auto;
      }

      /* Modal-style nav */
      nav {
        position: absolute;
        top: 4rem;
        /* header height + extra space */
        left: 1rem;
        right: 1rem;
        width: auto;
        max-width: none;
        max-height: calc(100vh - 120px);
        margin: 0;
        background: #fff;
        padding: 2rem;
        box-shadow: 0 6px 24px rgba(0, 0, 0, 0.22);
        border-radius: 12px;
        display: none;
        flex-direction: column;
        overflow-y: auto;
        z-index: 1000;
      }

      nav.active {
        display: flex;
      }

      nav a {
        margin: 1rem 0;
        font-size: 1.1rem;
        text-align: left;
      }

      /* Main & Books Grid */
      main {
        margin-left: -2px !important;
      margin: 5vh auto 4vh;
      /* top | sides | bottom using viewport height */
      padding: 0 1rem 2rem;
      /* horizontal padding + bottom padding */
    }

      main h1 {
        font-size: 1.1rem !important;
      }

      main .intro {
        font-size: 0.88rem !important;
      }

      main .book-title {
        font-size: 0.92rem !important;
      }

      main .book-subtitle {
        font-size: 0.75rem !important;
      }

      main .book-desc {
        font-size: 0.6rem !important;
      }

      main .buy-now-button {
        font-size: 0.7rem !important;
        padding: 0.5rem 1rem !important;
      }

      main .learn-more-button {
        font-size: 0.54rem !important;
        padding: 0.5rem 1rem !important;
      }

      main .books-grid {
        gap: 1.2rem !important;
      }

      /* Book Prices */
      .book-prices {
        font-size: 0.7rem !important;
        line-height: 1.7;
      }

      .book-format {
        font-weight: 250 !important;
        letter-spacing: 0.5px;
      }

      .book-price {
        font-weight: bold !important;
        color: #222 !important;
      }

      /* Footer */
      footer {
        font-size: 0.7rem;
      }

      /* Lightbox Mobile Tweaks */
      .lightbox .prev,
      .lightbox .next {
        font-size: 2.2rem;
        padding: 0 8px;
        z-index: 3100;
      }

      .lightbox .prev {
        left: 15px;
      }

      .lightbox .next {
        right: 15px;
      }

      .lightbox .close {
        font-size: 2rem;
        top: 10px;
        right: 15px;
        z-index: 3101;
      }
    }
  </style>
</head>

<body>
  <!-- Overlay for modal navigation -->
  <div id="navOverlay" aria-hidden="true"></div>
  <!-- Header with logo and navigation -->
  <header>
    <a href="../" class="logo">
      <img src="../images/hedz-book-logo.png" alt="HEDZ BOOK logo" decoding="async">
    </a>
    <button class="menu-toggle" id="menuToggle" aria-label="Open main menu">
      <span aria-hidden="true">&#9776;</span>
    </button>
    <button class="menu-close" id="menuClose" aria-label="Close main menu">
      <span aria-hidden="true">&#10005;</span>
    </button>
    <nav id="mainNav" aria-label="Main navigation">
      <a href="../">Home</a>
      <a href="./">Forex Trilogy</a>
      <a href="../classics">Forex Classics</a>
      <a href="../ZLCHS">ZLCHS Access</a>
      <a href="../about">About Author</a>
    </nav>
  </header>
  <!-- Main content -->
  <main role="main">
    <h1>HEDZ Forex Trilogy</h1>
    <p class="intro">
      HEDZ Forex Trilogy is a comprehensive three-part collection that explores the Mastery of Forex Trading through
      Foundations, Psychology, and Strategy. Together, the volumes provide a clear path from thoroughly understanding
      the market’s structure, to strengthening the discipline of the mind, to applying risk-controlled strategies for
      sustainable growth. Each book focuses on one pillar while connecting seamlessly to the next, creating a complete
      journey. The trilogy reflects HEDZ’s commitment to clarity, depth, and lasting insight for readers seeking
      knowledge, discipline, and resilience in forex trading.
    </p>
    <div class="books-grid">
      <!-- Book 1 -->
      <div class="book-container">
        <div class="book-image">
          <!-- Front cover -->
          <img src="../trilogy/the-foundation-of-forex-trading/the-foundation-of-forex-trading-front-cover.webp"
            alt="Front cover of 'The Foundation of Forex Trading' by HEDZ – Forex trading fundamentals"
            class="popup-img"
            data-img="../trilogy/the-foundation-of-forex-trading/the-foundation-of-forex-trading-front-cover.webp"
            data-group="foundation" loading="lazy" decoding="async" fetchpriority="high">

          <div aria-hidden="true" style="display:none;">
            <!-- Back cover -->
            <img src="../trilogy/the-foundation-of-forex-trading/the-foundation-of-forex-trading-back-cover.webp"
              alt="Back cover of 'The Foundation of Forex Trading' by HEDZ – Forex trading fundamentals"
              class="popup-img"
              data-img="../trilogy/the-foundation-of-forex-trading/the-foundation-of-forex-trading-back-cover.webp"
              data-group="foundation" style="display:none;" loading="lazy" decoding="async">

            <!-- Full cover -->
            <img src="../trilogy/the-foundation-of-forex-trading/the-foundation-of-forex-trading-full-cover.webp"
              alt="Full cover (front, spine, back) of 'The Foundation of Forex Trading' by HEDZ – Forex trading fundamentals"
              class="popup-img"
              data-img="../trilogy/the-foundation-of-forex-trading/the-foundation-of-forex-trading-full-cover.webp"
              data-group="foundation" style="display:none;" loading="lazy" decoding="async">
          </div>
        </div>
        <div class="book-info">
          <h2 class="book-title">The Foundation of Forex Trading</h2>
          <div class="book-subtitle">Timeless Lessons on Markets, Money, and Methodology</div>
          <p class="book-desc"><em>What if "The Mastery of Forex Trading" begins with understanding the foundational
              structures of the market?</em> <strong>Foundation</strong> marks the stage where traders gain insight into
            the market’s framework. Insight into how currency pairs interrelate, how liquidity drives these
            relationships, and how intermarket correlations influence price movements is essential. Knowledge of
            brokers, platforms, swaps, and hidden costs forms a reliable base. Mastering capital management, leverage,
            and risk ensures a sustainable trading approach. Developing technical skills, from candlesticks to
            multi-timeframe analysis, supports identifying trends and patterns. Awareness of economic indicators and
            geopolitical events shaping currency valuations sharpens decision-making. Armed with a professional
            blueprint emphasizing disciplined routines, trade selection, journaling, and financial integration, traders
            build the foundation required to achieve success in Retail Forex Trading.</p>
          <div
            style="display:flex; justify-content:space-between; align-items:center; width:100%; margin-bottom:0.5rem;">
            <div style="display:flex; flex-direction:column; align-items:flex-start;">
              <a href="./the-foundation-of-forex-trading" class="learn-more-button">Learn More</a>
              <a href="https://www.amazon.com/dp/B0FQ11LS2Q" class="buy-now-button" data-asin="B0FQ11LS2Q">Buy Now</a>
            </div>
            <div class="book-prices" style="text-align:right; margin-left:2rem;">
              <span class="book-format">Kindle</span> &nbsp;&nbsp;&nbsp;<span class="book-price">$9.99</span><br>
              <span class="book-format">Paperback</span> &nbsp;<span class="book-price">$23.33</span><br>
              <span class="book-format">Hardcover</span> &nbsp;<span class="book-price">$33.33</span>
            </div>
          </div>
        </div>
      </div>
      <!-- Book 2 -->
      <div class="book-container">
        <div class="book-image">
          <!-- Front cover -->
          <img src="../trilogy/the-psychology-of-forex-trading/the-psychology-of-forex-trading-front-cover.webp"
            alt="Front cover of 'The Psychology of Forex Trading' by HEDZ – trading psychology book" class="popup-img"
            data-img="../trilogy/the-psychology-of-forex-trading/the-psychology-of-forex-trading-front-cover.webp"
            data-group="psychology" loading="lazy" decoding="async" fetchpriority="high">

          <div aria-hidden="true" style="display:none;">
            <!-- Back cover -->
            <img src="../trilogy/the-psychology-of-forex-trading/the-psychology-of-forex-trading-back-cover.webp"
              alt="Back cover of 'The Psychology of Forex Trading' by HEDZ – trading psychology book" class="popup-img"
              data-img="../trilogy/the-psychology-of-forex-trading/the-psychology-of-forex-trading-back-cover.webp"
              data-group="psychology" style="display:none;" loading="lazy" decoding="async">

            <!-- Full cover -->
            <img src="../trilogy/the-psychology-of-forex-trading/the-psychology-of-forex-trading-full-cover.webp"
              alt="Full cover (front, spine, back) of 'The Psychology of Forex Trading' by HEDZ – trading psychology book"
              class="popup-img"
              data-img="../trilogy/the-psychology-of-forex-trading/the-psychology-of-forex-trading-full-cover.webp"
              data-group="psychology" style="display:none;" loading="lazy" decoding="async">
          </div>
        </div>
        <div class="book-info">
          <h2 class="book-title">The Psychology of Forex Trading</h2>
          <div class="book-subtitle">Timeless Lessons on Biases, Behaviour, and Breakthroughs</div>
          <p class="book-desc"><em>What if "The Mastery of Forex Trading" truly depends on mastering the mind as much as
              the market itself?</em> <strong>Psychology</strong> marks the stage where trading foundations give way to
            the mind that governs every decision. Stress responses and primal instincts influence judgement, while
            biases such as overconfidence, illusion of control, and loss aversion distort risk perception. Emotional
            triggers and discipline gaps cause repeated trading failures unless countered with proven mental tools like
            mindfulness, journaling, cognitive reframing, and resilience practices. Transformation grows through rest,
            recovery, micro-progress, mentorship, and true community support, turning setbacks into psychological
            strength. Over time, psychology and discipline integrate into identity, creating a resilient long-game
            mindset. This mental evolution becomes the bridge to strategy, where risk control, survival, and compounding
            profits truly define success in Retail Forex Trading.</p>
          <div
            style="display:flex; justify-content:space-between; align-items:center; width:100%; margin-bottom:0.5rem;">
            <div style="display:flex; flex-direction:column; align-items:flex-start;">
              <a href="./the-psychology-of-forex-trading" class="learn-more-button">Learn More</a>
              <a href="https://www.amazon.com/dp/B0FMFN9X4R" class="buy-now-button" data-asin="B0FMFN9X4R">Buy Now</a>
            </div>
            <div class="book-prices" style="text-align:right; margin-left:2rem;">
              <span class="book-format">Kindle</span> &nbsp;&nbsp;&nbsp;<span class="book-price">$9.99</span><br>
              <span class="book-format">Paperback</span> &nbsp;<span class="book-price">$23.33</span><br>
              <span class="book-format">Hardcover</span> &nbsp;<span class="book-price">$33.33</span>
            </div>
          </div>
        </div>
      </div>
      <!-- Book 3 -->
      <div class="book-container">
        <div class="book-image">
          <!-- Front cover -->
          <img src="../trilogy/the-strategy-of-forex-trading/the-strategy-of-forex-trading-front-cover.webp"
            alt="Front cover of 'The Strategy of Forex Trading' by HEDZ – zero-loss compounding hedging system"
            class="popup-img"
            data-img="../trilogy/the-strategy-of-forex-trading/the-strategy-of-forex-trading-front-cover.webp"
            data-group="strategy" loading="lazy" decoding="async" fetchpriority="high">

          <div aria-hidden="true" style="display:none;">
            <!-- Back cover -->
            <img src="../trilogy/the-strategy-of-forex-trading/the-strategy-of-forex-trading-back-cover.webp"
              alt="Back cover of 'The Strategy of Forex Trading' by HEDZ – zero-loss compounding hedging system"
              class="popup-img"
              data-img="../trilogy/the-strategy-of-forex-trading/the-strategy-of-forex-trading-back-cover.webp"
              data-group="strategy" style="display:none;" loading="lazy" decoding="async">

            <!-- Full cover -->
            <img src="../trilogy/the-strategy-of-forex-trading/the-strategy-of-forex-trading-full-cover.webp"
              alt="Full cover (front, spine, back) of 'The Strategy of Forex Trading' by HEDZ – zero-loss compounding hedging system"
              class="popup-img"
              data-img="../trilogy/the-strategy-of-forex-trading/the-strategy-of-forex-trading-full-cover.webp"
              data-group="strategy" style="display:none;" loading="lazy" decoding="async">
          </div>
        </div>
        <div class="book-info">
          <h2 class="book-title">The Strategy of Forex Trading</h2>
          <div class="book-subtitle">Timeless Lessons on ZeroLoss Compounded Hedging System</div>
          <p class="book-desc"><em>What if "The Mastery of Forex Trading" rests on a strategy built to control risk,
              survive, and compound profits?</em> <strong>Strategy</strong> marks the stage where strong foundations and
            psychology converge into execution. The ZeroLoss Compounded Hedging System (CHS) provides a systematic
            framework that unites capital protection with steady, long-term growth. Hedging protects capital, while
            structured compounding turns small gains into cumulative returns. All positions are dynamically managed to
            control risk and secure profits. System design includes coding an MT5 Expert Advisor with supporting
            indicators, backtesting, optimization, and automation for reliable execution. Testing in trending, ranging,
            and volatile markets shows resilience and adaptability. As traders apply and refine CHS on VPS hosting, it
            evolves with them, cultivating consistency and control. Over time, strategy and identity merge, enabling
            risk-controlled growth and success in Retail Forex Trading.</p>
          <div
            style="display:flex; justify-content:space-between; align-items:center; width:100%; margin-bottom:0.5rem;">
            <div style="display:flex; flex-direction:column; align-items:flex-start;">
              <a href="./the-strategy-of-forex-trading" class="learn-more-button">Learn More</a>
              <a href="https://www.amazon.com/dp/B0FQ11LS2Q" class="buy-now-button" data-asin="B0FQ11LS2Q">Buy Now</a>
            </div>
            <div class="book-prices" style="text-align:right; margin-left:2rem;">
              <span class="book-format">Kindle</span> &nbsp;&nbsp;&nbsp;<span class="book-price">$9.99</span><br>
              <span class="book-format">Paperback</span> &nbsp;<span class="book-price">$23.33</span><br>
              <span class="book-format">Hardcover</span> &nbsp;<span class="book-price">$33.33</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer role="contentinfo">
    &copy; 2025 HEDZ BOOK. All rights reserved.
  </footer>

  <!-- Lightbox for book images -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-label="Book cover preview">
    <button class="prev" aria-label="Previous Image" onclick="changeImage(-1)"><span
        aria-hidden="true"></span>&#10094;</button>
    <div class="lightbox-content">
      <img id="lightbox-img" src="" alt="Book Cover">
    </div>
    <button class="next" aria-label="Next Image" onclick="changeImage(1)"><span
        aria-hidden="true"></span>&#10095;</button>
  </div>

  <!-- Scripts for navigation, lightbox, and Amazon redirect -->
  <script>
    // nav toggle
    const menuToggle = document.getElementById('menuToggle');
    const menuClose = document.getElementById('menuClose');
    const nav = document.getElementById('mainNav');
    const header = document.querySelector("header");
    const overlay = document.getElementById('navOverlay');

    // Initialize aria-expanded
    menuToggle.setAttribute('aria-expanded', false);

    menuToggle.onclick = () => {
      nav.classList.add('active');
      overlay.classList.add('active');
      menuToggle.style.display = 'none';
      menuClose.style.display = 'block';
      document.body.style.overflow = 'hidden';
      header.classList.add('menu-fixed');

      // Update aria-expanded
      menuToggle.setAttribute('aria-expanded', true);
    };

    menuClose.onclick = () => {
      nav.classList.remove('active');
      overlay.classList.remove('active');
      menuClose.style.display = 'none';
      menuToggle.style.display = 'block';
      document.body.style.overflow = '';
      header.classList.remove('menu-fixed');

      // Update aria-expanded
      menuToggle.setAttribute('aria-expanded', false);
    };

    // Optional: close menu when overlay is clicked
    overlay.onclick = () => menuClose.onclick();

    // --- Scroll-hide header (only when not fixed) ---
    let lastScrollY = window.scrollY;

    window.addEventListener("scroll", () => {
      if (header.classList.contains("menu-fixed")) return; // skip when menu is open

      const currentScrollY = window.scrollY;
      const diff = currentScrollY - lastScrollY;

      let offset = Math.min(
        0,
        Math.max(-header.offsetHeight, parseFloat(header.dataset.offset || 0) - diff)
      );

      header.style.transform = `translateY(${offset}px)`;
      header.dataset.offset = offset;
      lastScrollY = currentScrollY;
    });

    // Buy Now button country-aware redirect (simplified)
    function getAmazonUrl(countryCode, asin) {
      // Map country code to Amazon marketplace domain
      let domain = 'com';
      switch (countryCode) {
        case 'UK': domain = 'co.uk'; break;      // United Kingdom
        case 'DE': domain = 'de'; break;         // Germany
        case 'FR': domain = 'fr'; break;         // France
        case 'ES': domain = 'es'; break;         // Spain
        case 'IT': domain = 'it'; break;         // Italy
        case 'NL': domain = 'nl'; break;         // Netherlands
        case 'JP': domain = 'co.jp'; break;      // Japan
        case 'CA': domain = 'ca'; break;         // Canada
        case 'BR': domain = 'com.br'; break;     // Brazil
        case 'MX': domain = 'com.mx'; break;     // Mexico
        case 'AU': domain = 'com.au'; break;     // Australia
        case 'IN': domain = 'in'; break;         // India
        case 'TR': domain = 'com.tr'; break;     // Turkey
        case 'SG': domain = 'sg'; break;         // Singapore
        case 'AE': domain = 'ae'; break;         // United Arab Emirates
        case 'SA': domain = 'sa'; break;         // Saudi Arabia
        case 'SE': domain = 'se'; break;         // Sweden
        case 'PL': domain = 'pl'; break;         // Poland
      }
      return `https://www.amazon.${domain}/dp/${asin}`;
    }
    document.querySelectorAll('.buy-now-button').forEach(btn => {
      btn.addEventListener('click', function (e) {
        e.preventDefault();
        const asin = btn.getAttribute('data-asin');

        let cachedCountry = localStorage.getItem('amazonCountry');
        if (cachedCountry) {
          window.open(getAmazonUrl(cachedCountry, asin), '_blank');
        } else {
          fetch('https://ipapi.co/country/')
            .then(resp => resp.text())
            .then(countryCode => {
              countryCode = countryCode.trim();
              localStorage.setItem('amazonCountry', countryCode);
              window.open(getAmazonUrl(countryCode, asin), '_blank');
            })
            .catch(() => window.open(getAmazonUrl('US', asin), '_blank'));
        }

      });
    });

    // Lightbox
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");
    let currentGroup = [];
    let currentIndex = 0;

    document.querySelectorAll(".popup-img").forEach(img => {
      img.addEventListener("click", function () {
        const groupName = this.dataset.group;
        currentGroup = Array.from(document.querySelectorAll(`.popup-img[data-group="${groupName}"]`));
        currentIndex = currentGroup.findIndex(i => i.dataset.img === this.dataset.img);
        openLightbox(currentGroup[currentIndex].dataset.img);
      });
    });

    // --- Pan/drag variables ---
    let isDragging = false;
    let dragStartX = 0;
    let dragStartY = 0;
    let imgOffsetX = 0;
    let imgOffsetY = 0;

    function openLightbox(src) {
      lightbox.style.display = "flex";
      lightboxImg.src = src;
      resetZoom();
    }
    function closeLightbox() {
      lightbox.style.display = "none";
      resetZoom();
    }
    function changeImage(step) {
      if (!currentGroup.length) return;
      currentIndex = (currentIndex + step + currentGroup.length) % currentGroup.length;
      lightboxImg.src = currentGroup[currentIndex].dataset.img;
      resetZoom();      // reset zoom & pan
      imgOffsetX = 0;   // center image
      imgOffsetY = 0;
    }


    // --- Desktop click-and-drag panning ---
    lightboxImg.addEventListener('mousedown', function (e) {
      if (zoom > 1) {
        isDragging = true;
        dragStartX = e.clientX;
        dragStartY = e.clientY;
        lightboxImg.style.cursor = 'grab';
      }
    });
    window.addEventListener('mousemove', function (e) {
      if (isDragging && zoom > 1) {
        imgOffsetX += (e.clientX - dragStartX);
        imgOffsetY += (e.clientY - dragStartY);
        dragStartX = e.clientX;
        dragStartY = e.clientY;
        updateTransform();
      }
    });
    window.addEventListener('mouseup', function () {
      if (isDragging) {
        isDragging = false;
        lightboxImg.style.cursor = '';
      }
    });

    // --- Mobile touch-drag panning ---
    lightboxImg.addEventListener('touchstart', function (e) {
      if (zoom > 1 && e.touches.length === 1) {
        isDragging = true;
        dragStartX = e.touches[0].clientX;
        dragStartY = e.touches[0].clientY;
      }
    });
    lightboxImg.addEventListener('touchmove', function (e) {
      if (isDragging && zoom > 1 && e.touches.length === 1) {
        imgOffsetX += (e.touches[0].clientX - dragStartX);
        imgOffsetY += (e.touches[0].clientY - dragStartY);
        dragStartX = e.touches[0].clientX;
        dragStartY = e.touches[0].clientY;
        updateTransform();
      }
    });
    lightboxImg.addEventListener('touchend', function (e) {
      isDragging = false;
    });

    function updateTransform() {
      lightboxImg.style.transform = `translate(${imgOffsetX}px, ${imgOffsetY}px) scale(${zoom})`;
      lightboxImg.style.transformOrigin = `${originX}% ${originY}%`;
    }

    // --- Close on tap/click on overlay only ---
    lightbox.addEventListener('click', function (e) {
      // Only close if click/tap is on overlay, not image or controls
      if (e.target === lightbox) closeLightbox();
    });
    // Prevent image click/tap from closing
    lightboxImg.addEventListener('click', function (e) {
      e.stopPropagation();
    });
    lightboxImg.addEventListener('touchend', function (e) {
      e.stopPropagation();
    });

    window.addEventListener("keydown", e => {
      if (e.key === "Escape") closeLightbox();
      if (e.key === "ArrowRight") changeImage(1);
      if (e.key === "ArrowLeft") changeImage(-1);
    });

    // --- Swipe gesture for mobile ---
    let touchStartX = 0;
    let touchEndX = 0;
    lightboxImg.addEventListener('touchstart', function (e) {
      if (e.touches.length === 1) {
        touchStartX = e.touches[0].clientX;
      }
    });
    lightboxImg.addEventListener('touchend', function (e) {
      if (e.changedTouches.length === 1) {
        touchEndX = e.changedTouches[0].clientX;
        const deltaX = touchEndX - touchStartX;
        if (Math.abs(deltaX) > 50) {
          if (deltaX > 0) {
            changeImage(-1); // swipe right
          } else {
            changeImage(1); // swipe left
          }
        }
      }
    });

    // --- Mouse wheel zoom (desktop) ---
    let zoom = 1;
    let originX = 0;
    let originY = 0;
    function resetZoom() {
      zoom = 1;
      originX = 0;
      originY = 0;
      imgOffsetX = 0;
      imgOffsetY = 0;
      lightboxImg.style.transform = '';
      lightboxImg.style.transformOrigin = '';
    }
    lightboxImg.addEventListener('wheel', function (e) {
      e.preventDefault();
      // Only zoom if lightbox is open
      if (lightbox.style.display !== 'flex') return;
      // Calculate mouse position relative to image
      const rect = lightboxImg.getBoundingClientRect();
      originX = ((e.clientX - rect.left) / rect.width) * 100;
      originY = ((e.clientY - rect.top) / rect.height) * 100;
      // Zoom in/out
      if (e.deltaY < 0) {
        zoom = Math.min(zoom + 0.15, 3);
      } else {
        zoom = Math.max(zoom - 0.15, 0.5);
        // If zoomed out below threshold, close lightbox
        if (zoom < 0.65) closeLightbox();
      }
      updateTransform();
    }, { passive: false });

    // --- Keyboard navigation for focus trap ---
    lightbox.addEventListener('keydown', function (e) {
      if (e.key === "Tab") {
        e.preventDefault();
        // optional: manage focus between close, prev, next buttons
      }
    });

    (async function () {
      let countryCode = 'US';
      try {
        const resp = await fetch('https://ipapi.co/country/');
        countryCode = (await resp.text()).trim();
      } catch (e) {
        console.warn('Could not fetch country, defaulting to US');
      }

      const countryCurrencyMap = {
        US: "USD", UK: "GBP", DE: "EUR", FR: "EUR", ES: "EUR",
        IT: "EUR", NL: "EUR", JP: "JPY", CA: "CAD", BR: "BRL",
        MX: "MXN", AU: "AUD", IN: "INR", TR: "TRY", SG: "SGD",
        AE: "AED", SA: "SAR", SE: "SEK"
      };
      const domainMap = {
        US: "com", UK: "co.uk", DE: "de", FR: "fr", ES: "es", IT: "it",
        NL: "nl", JP: "co.jp", CA: "ca", BR: "com.br", MX: "com.mx",
        AU: "com.au", IN: "in", TR: "com.tr", SG: "sg", AE: "ae",
        SA: "sa", SE: "se"
      };

      const targetCurrency = countryCurrencyMap[countryCode] || "USD";
      const amazonDomain = domainMap[countryCode] || "com";

      const bookData = [];
      document.querySelectorAll('.book-container').forEach(bookEl => {
        const title = bookEl.querySelector('.book-title').innerText.trim();
        const author = "HEDZ";
        const desc = bookEl.querySelector('.book-desc').innerText.trim();
        const img = bookEl.querySelector('.book-image img').dataset.img || bookEl.querySelector('.book-image img').src;
        const asin = bookEl.querySelector('.buy-now-button')?.dataset.asin || "";
        const pricesUSD = Array.from(bookEl.querySelectorAll('.book-price')).map(p => parseFloat(p.innerText.replace(/[^0-9.]/g, '')));
        const formats = Array.from(bookEl.querySelectorAll('.book-format')).map(f => f.innerText.trim());
        bookData.push({ title, author, desc, img, asin, pricesUSD, formats });
      });

      let rates = { [targetCurrency]: 1 };
      if (targetCurrency !== "USD") {
        try {
          const resp = await fetch(`https://api.exchangerate.host/latest?base=USD&symbols=${targetCurrency}`);
          const data = await resp.json();
          if (data && data.rates && data.rates[targetCurrency]) {
            rates[targetCurrency] = data.rates[targetCurrency];
          }
        } catch (e) {
          console.warn("Currency conversion failed, using USD");
        }
      }

      const roundingRules = { JPY: 0, INR: 0, MXN: 2, BRL: 2, USD: 2, EUR: 2, GBP: 2, CAD: 2, AUD: 2, SGD: 2, AED: 2, SAR: 2, SEK: 2, TRY: 2 };
      const decimals = roundingRules[targetCurrency] !== undefined ? roundingRules[targetCurrency] : 2;

      let schema = JSON.parse(document.getElementById('book-schema').textContent);

      // Find the CreativeWorkSeries inside @graph
      const series = schema['@graph'].find(node => node['@type'] === 'CreativeWorkSeries');

      series.workExample.forEach(book => {
        const domBook = bookData.find(b => book.name.includes(b.title.split(":")[1].trim()));
        if (domBook) {
          book.offers = domBook.formats.map((format, i) => {
            const convertedPrice = (domBook.pricesUSD[i] * rates[targetCurrency]).toFixed(decimals);
            return {
              "@type": "Offer",
              "name": format,
              "price": convertedPrice,
              "priceCurrency": targetCurrency,
              "availability": "https://schema.org/InStock",
              "itemCondition": "https://schema.org/NewCondition",
              "url": domBook.asin ? `https://www.amazon.${amazonDomain}/dp/${domBook.asin}` : ""
            };
          });
        }
      });

      document.getElementById('book-schema').textContent = JSON.stringify(schema, null, 2);
    })();
  </script>
</body>

</html>